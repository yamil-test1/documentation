
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Islandora 8">
      
      
      
      
        <link rel="canonical" href="https://islandora.github.io/documentation/installation/manual/installing_tomcat_and_cantaloupe/">
      
      
        
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.4+insiders-2.13.1">
    
    
      
        <title>Installing Tomcat and Cantaloupe - Islandora 8</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.da646f22.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.1d832a92.min.css">
        
          
          
          <meta name="theme-color" content="#ef5552">
        
      
      <link rel="preload" as="style" href="../../../assets/stylesheets/vendor/mermaid.733f213f.min.css">
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../css/custom.css">
    
    <script>function __md_scope(e,t,_){return new URL(_||(t===localStorage?"../../..":"../../.."),location).pathname+"."+e}function __md_get(e,t=localStorage,_){return JSON.parse(t.getItem(__md_scope(e,t,_)))}function __md_set(e,t,_=localStorage,o){try{_.setItem(__md_scope(e,_,o),JSON.stringify(t))}catch(e){}}</script>
    
      


    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="red" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installing-tomcat-and-cantaloupe" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Islandora 8" class="md-header__button md-logo" aria-label="Islandora 8" data-md-component="logo">
      
  <img src="../../../assets/claw.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Islandora 8
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installing Tomcat and Cantaloupe
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/Islandora/documentation/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Islandora 8" class="md-nav__button md-logo" aria-label="Islandora 8" data-md-component="logo">
      
  <img src="../../../assets/claw.png" alt="logo">

    </a>
    Islandora 8
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/Islandora/documentation/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Concepts" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/collection/" class="md-nav__link">
        Collections
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/access-control/" class="md-nav__link">
        Access Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/accessibility/" class="md-nav__link">
        Accessibility
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../component_overview/" class="md-nav__link">
        Component Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/objects_to_resource_nodes/" class="md-nav__link">
        Modelling content in Islandora 8 vs. 7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/islandora_defaults_reference/" class="md-nav__link">
        Islandora Defaults
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Docker (ISLE)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Docker (ISLE)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Docker (ISLE)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-introduction/" class="md-nav__link">
        Introduction to ISLE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-prereq/" class="md-nav__link">
        Prerequisites
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_3" type="checkbox" id="__nav_3_1_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_3">
          Install Islandora
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Install Islandora" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_3">
          <span class="md-nav__icon md-icon"></span>
          Install Islandora
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-demo/" class="md-nav__link">
        Installing a Demo Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-local/" class="md-nav__link">
        Installing a Development Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-custom/" class="md-nav__link">
        Installing a Staging/Production Server
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_4" type="checkbox" id="__nav_3_1_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1_4">
          Maintaining Islandora
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Maintaining Islandora" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_4">
          <span class="md-nav__icon md-icon"></span>
          Maintaining Islandora
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-basic-usage/" class="md-nav__link">
        Basic Usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-maintain-drupal/" class="md-nav__link">
        Maintaining Drupal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-maintain-isle/" class="md-nav__link">
        Maintaining ISLE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-available-commands/" class="md-nav__link">
        Available Commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-available-configuration/" class="md-nav__link">
        Available Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../playbook/" class="md-nav__link">
        Ansible Playbook
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Manual Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Manual Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Manual Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../preparing_a_webserver/" class="md-nav__link">
        Preparing a LAPP Webserver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing_composer_drush_and_drupal/" class="md-nav__link">
        Installing Composer, Drush, and Drupal
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Installing Tomcat and Cantaloupe
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Installing Tomcat and Cantaloupe
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#in-this-section-we-will-install" class="md-nav__link">
    In this section, we will install:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tomcat-8" class="md-nav__link">
    Tomcat 8
  </a>
  
    <nav class="md-nav" aria-label="Tomcat 8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-openjdk-8" class="md-nav__link">
    Installing OpenJDK 8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-tomcat-user" class="md-nav__link">
    Creating a tomcat User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-tomcat-8" class="md-nav__link">
    Downloading and Placing Tomcat 8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-setenvsh-script" class="md-nav__link">
    Creating a setenv.sh Script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-tomcat-service" class="md-nav__link">
    Creating the Tomcat Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-and-starting-tomcat" class="md-nav__link">
    Enabling and Starting Tomcat
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-cantaloupe-4" class="md-nav__link">
    Installing Cantaloupe 4
  </a>
  
    <nav class="md-nav" aria-label="Installing Cantaloupe 4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stopping-the-tomcat-service" class="md-nav__link">
    Stopping the Tomcat service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-the-cantaloupe-war" class="md-nav__link">
    Downloading and Placing the Cantaloupe WAR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-cantaloupe-configuration" class="md-nav__link">
    Creating a Cantaloupe Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-the-cantaloupe-configuration-location" class="md-nav__link">
    Defining the Cantaloupe Configuration Location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-the-tomcat-service" class="md-nav__link">
    Starting the Tomcat Service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing_fedora_syn_and_blazegraph/" class="md-nav__link">
        Installing Fedora, Syn, and Blazegraph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing_solr/" class="md-nav__link">
        Installing Solr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing_crayfish/" class="md-nav__link">
        Installing Crayfish
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing_karaf_and_alpaca/" class="md-nav__link">
        Installing Karaf and Alpaca
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../configuring_drupal/" class="md-nav__link">
        Configuring Drupal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/install-enable-drupal-modules/" class="md-nav__link">
        Installing Modules
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/create-a-resource-node/" class="md-nav__link">
        Create a Resource Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/how-to-create-collection/" class="md-nav__link">
        Create a Collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/blocks/" class="md-nav__link">
        Configure Blocks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/create_update_views/" class="md-nav__link">
        Create or Update a View
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/video-docs/" class="md-nav__link">
        Video Documentation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/user-intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/intro-to-ld-for-islandora-8/" class="md-nav__link">
        Intro to Linked Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Content in Islandora 8
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Content in Islandora 8" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Content in Islandora 8
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/resource-nodes/" class="md-nav__link">
        Resource Nodes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/media/" class="md-nav__link">
        Media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/paged-content/" class="md-nav__link">
        Paged Content
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_5">
          Configuring Islandora
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuring Islandora" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Configuring Islandora
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/content_types/" class="md-nav__link">
        Modify or Create a Content Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/searching/" class="md-nav__link">
        Configure Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/advanced-search/" class="md-nav__link">
        Configure Advanced Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/context/" class="md-nav__link">
        Configure Context
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/multilingual/" class="md-nav__link">
        Multilingual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/extending/" class="md-nav__link">
        Extending Islandora
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/file_viewers/" class="md-nav__link">
        Viewers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/iiif/" class="md-nav__link">
        IIIF
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/oai/" class="md-nav__link">
        OAI-PMH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../islandora/rdf-mapping/" class="md-nav__link">
        RDF Generation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../islandora/drupal-bundle-configurations/" class="md-nav__link">
        Drupal Bundle Configurations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/flysystem/" class="md-nav__link">
        Flysystem
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_6" type="checkbox" id="__nav_5_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_6">
          Operating an Islandora Repository
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operating an Islandora Repository" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_6">
          <span class="md-nav__icon md-icon"></span>
          Operating an Islandora Repository
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/users/" class="md-nav__link">
        Create and Manage User Accounts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/usage-stats/" class="md-nav__link">
        Usage Stats
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          System Administrator Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="System Administrator Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          System Administrator Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/updating_drupal/" class="md-nav__link">
        Updating Drupal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/uploading-large-files/" class="md-nav__link">
        Uploading large files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/jwt/" class="md-nav__link">
        JWT Authentication
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Documentation for Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation for Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Documentation for Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/diagram/" class="md-nav__link">
        Architecture Diagram
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          REST Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="REST Documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          REST Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/using-rest-endpoints/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-authorization/" class="md-nav__link">
        Authorization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-get/" class="md-nav__link">
        GET
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-create/" class="md-nav__link">
        POST/PUT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-patch/" class="md-nav__link">
        PATCH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-delete/" class="md-nav__link">
        DELETE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-signposting/" class="md-nav__link">
        Signposting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_3">
          Tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tests" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Tests
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/running-automated-tests/" class="md-nav__link">
        Running Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/testing-notes/" class="md-nav__link">
        Testing Notes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/drupal-project/" class="md-nav__link">
        Updating drupal-project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/versioning/" class="md-nav__link">
        Versioning Policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/adding_format_jsonld/" class="md-nav__link">
        Adding back ?_format=jsonld
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/ppa-documentation/" class="md-nav__link">
        Updating a `deb` and adding it to Lyrasis PPA
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_8" type="checkbox" id="__nav_7_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_8">
          Alpaca
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Alpaca" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_8">
          <span class="md-nav__icon md-icon"></span>
          Alpaca
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../alpaca/alpaca-technical-stack/" class="md-nav__link">
        Alpaca Technical Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/alpaca_tips/" class="md-nav__link">
        Alpaca Tips
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Migration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Migration" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Migration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-overview/" class="md-nav__link">
        Migration Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-rest-api/" class="md-nav__link">
        REST API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-migrate-api/" class="md-nav__link">
        Migrate API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-islandora-workbench/" class="md-nav__link">
        Islandora Workbench
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migrate-csv/" class="md-nav__link">
        CSV
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migrate-7x/" class="md-nav__link">
        Islandora 7
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contributing" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/CONTRIBUTING/" class="md-nav__link">
        How to contribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/resizing_vm/" class="md-nav__link">
        Resizing a VM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/checking-coding-standards/" class="md-nav__link">
        Checking Coding Standards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/contributing-workflow/" class="md-nav__link">
        Contributing Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/create_issues/" class="md-nav__link">
        Creating GitHub Issues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/editing-docs/" class="md-nav__link">
        Editing Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/docs-build/" class="md-nav__link">
        How to Build Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/docs_style_guide/" class="md-nav__link">
        Documentation Style Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/committers/" class="md-nav__link">
        Committers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#in-this-section-we-will-install" class="md-nav__link">
    In this section, we will install:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tomcat-8" class="md-nav__link">
    Tomcat 8
  </a>
  
    <nav class="md-nav" aria-label="Tomcat 8">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-openjdk-8" class="md-nav__link">
    Installing OpenJDK 8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-tomcat-user" class="md-nav__link">
    Creating a tomcat User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-tomcat-8" class="md-nav__link">
    Downloading and Placing Tomcat 8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-setenvsh-script" class="md-nav__link">
    Creating a setenv.sh Script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-tomcat-service" class="md-nav__link">
    Creating the Tomcat Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-and-starting-tomcat" class="md-nav__link">
    Enabling and Starting Tomcat
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-cantaloupe-4" class="md-nav__link">
    Installing Cantaloupe 4
  </a>
  
    <nav class="md-nav" aria-label="Installing Cantaloupe 4">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stopping-the-tomcat-service" class="md-nav__link">
    Stopping the Tomcat service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-the-cantaloupe-war" class="md-nav__link">
    Downloading and Placing the Cantaloupe WAR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-cantaloupe-configuration" class="md-nav__link">
    Creating a Cantaloupe Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-the-cantaloupe-configuration-location" class="md-nav__link">
    Defining the Cantaloupe Configuration Location
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-the-tomcat-service" class="md-nav__link">
    Starting the Tomcat Service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Islandora/documentation/edit/main/docs/installation/manual/installing_tomcat_and_cantaloupe.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                
                <h1 id="installing-tomcat-and-cantaloupe">Installing Tomcat and Cantaloupe<a class="headerlink" href="#installing-tomcat-and-cantaloupe" title="Permanent link">&para;</a></h1>
<h2 id="in-this-section-we-will-install">In this section, we will install:<a class="headerlink" href="#in-this-section-we-will-install" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://tomcat.apache.org/download-80.cgi">Tomcat 8</a>, the Java servlet container that will serve up some Java applications on various endpoints, including, importantly, Fedora</li>
<li><a href="https://cantaloupe-project.github.io/">Cantaloupe 4</a>, the image tileserver - running in Tomcat - that will be used to serve up large images in a web-accessible fashion</li>
</ul>
<h2 id="tomcat-8">Tomcat 8<a class="headerlink" href="#tomcat-8" title="Permanent link">&para;</a></h2>
<h3 id="installing-openjdk-8">Installing OpenJDK 8<a class="headerlink" href="#installing-openjdk-8" title="Permanent link">&para;</a></h3>
<p>Tomcat runs in a Java runtime environment, so we'll need one to continue. In our case, OpenJDK 8 is open-source, free to use, and can fairly simply be installed using <code>apt-get</code>:</p>
<pre><code class="language-bash">sudo apt-get -y install openjdk-8-jdk openjdk-8-jre
</code></pre>
<p>The installation of OpenJDK via <code>apt-get</code> establishes it as the de-facto Java runtime environment to be used on the system, so no further configuration is required.</p>
<p>The resultant location of the java JRE binary (and therefore, the correct value of <code>JAVA_HOME</code> when its referenced) will vary based on the specifics of the machine its being installed on; that being said, you can find its exact location using <code>update-alternatives</code>:</p>
<pre><code class="language-bash">update-alternatives --list java
</code></pre>
<h3 id="creating-a-tomcat-user">Creating a <code>tomcat</code> User<a class="headerlink" href="#creating-a-tomcat-user" title="Permanent link">&para;</a></h3>
<p>Apache Tomcat, and all its processes, will be owned and managed by a specific user for the purposes of keeping parts of the stack segregated and accountable.</p>
<pre><code class="language-bash">sudo addgroup tomcat
sudo adduser tomcat --ingroup tomcat --home /opt/tomcat --shell /usr/bin
</code></pre>
<p>You will be prompted to create a password for the <code>tomcat</code> user; all the other information as part of the <code>adduser</code> command can be ignored.</p>
<h3 id="downloading-and-placing-tomcat-8">Downloading and Placing Tomcat 8<a class="headerlink" href="#downloading-and-placing-tomcat-8" title="Permanent link">&para;</a></h3>
<p>Tomcat 8 itself can be installed in several different ways; while its possible to install via <code>apt-get</code>, this doesnt give us a great deal of control over exactly how were going to run and manage it; as a critical part of the stack, it is beneficial for our purposes to have a good frame of reference for the inner workings of Tomcat.</p>
<p>Were going to download the latest version of Tomcat to <code>/opt</code> and set it up so that it runs automatically. Bear in mind that with the following commands, this is going to be entirely relative to the current version of Tomcat 8, which well try to mitigate as we go.</p>
<pre><code class="language-bash">cd /opt
sudo wget -O tomcat.tar.gz TOMCAT_TARBALL_LINK
sudo tar -zxvf tomcat.tar.gz
sudo mv /opt/TOMCAT_DIRECTORY/* /opt/tomcat
sudo chown -R tomcat:tomcat /opt/tomcat
</code></pre>
<ul>
<li><code>TOMCAT_TARBALL_LINK</code>: No default can be provided here; you should navigate to the <a href="https://tomcat.apache.org/download-80.cgi">Tomcat 8 downloads page</a> and grab the link to the latest <code>.tar.gz</code> file under the Core section of Binary Distributions. It is highly recommended to grab the latest version of Tomcat 8, as it will come with associated security patches and fixes.</li>
<li><code>TOMCAT_DIRECTORY</code>: This will also depend entirely on the exact version of tomcat downloaded - for example, <code>apache-tomcat-8.5.47</code>. Again, <code>ls /opt</code> can be used to find this.</li>
</ul>
<h3 id="creating-a-setenvsh-script">Creating a setenv.sh Script<a class="headerlink" href="#creating-a-setenvsh-script" title="Permanent link">&para;</a></h3>
<p>When Tomcat runs, some configuration needs to be pre-established as a series of environment variables that will be used by the script that runs it.</p>
<p><code>/opt/tomcat/bin/setenv.sh | tomcat:tomcat/755</code></p>
<pre><code>export CATALINA_HOME=&quot;/opt/tomcat&quot;
export JAVA_HOME=&quot;PATH_TO_JAVA_HOME&quot;
export JAVA_OPTS=&quot;-Djava.awt.headless=true -server -Xmx1500m -Xms1000m&quot;
</code></pre>
<ul>
<li><code>PATH_TO_JAVA_HOME</code>: This will vary a bit depending on the environment, but will likely live in <code>/usr/lib/jvm</code> somewhere (e.g., <code>/usr/lib/jvm/java-8-openjdk-amd64</code> for an installation on a machine with an AMD processor); again, in an Ubunutu environment you can check a part of this using <code>update-alternatives --list java</code>, which will give you the path to the JRE binary within the Java home</li>
</ul>
<h3 id="creating-the-tomcat-service">Creating the Tomcat Service<a class="headerlink" href="#creating-the-tomcat-service" title="Permanent link">&para;</a></h3>
<p>Tomcat includes two shell scripts were going to make use of - <code>startup.sh</code> and <code>shutdown.sh</code> - which are light wrappers on top of a third script, <code>catalina.sh</code>, which manages spinning up and shutting down the Tomcat server.</p>
<p>Ubuntu 18.04 uses <code>systemctl</code> to manage services; were going to create a .service file that can run these shell scripts.</p>
<p><code>/etc/systemd/system/tomcat.service | root:root/755</code></p>
<pre><code>[Unit]
Description=Tomcat

[Service]
Type=forking
ExecStart=/opt/tomcat/bin/startup.sh
ExecStop=/opt/tomcat/bin/shutdown.sh
SyslogIdentifier=tomcat

[Install]
WantedBy=multi-user.target
</code></pre>
<h3 id="enabling-and-starting-tomcat">Enabling and Starting Tomcat<a class="headerlink" href="#enabling-and-starting-tomcat" title="Permanent link">&para;</a></h3>
<p>Were going to both <code>enable</code> and <code>start</code> Tomcat. Enabling Tomcat will ensure that it starts on boot, the timing of which is defined by the <code>[Install]</code> sections <code>WantedBy</code> statement, which specifies what it should start after. This is separate from starting it, which we need to do now in order to get Tomcat up and running without requiring a reboot.</p>
<pre><code class="language-bash">sudo systemctl enable tomcat
sudo systemctl start tomcat
</code></pre>
<p>We can check that Tomcat has started by running <code>systemctl status tomcat | grep Active</code>; we should see that Tomcat is <code>active (running)</code>, which is the correct result of startup.sh finishing its run successfully.</p>
<h2 id="installing-cantaloupe-4">Installing Cantaloupe 4<a class="headerlink" href="#installing-cantaloupe-4" title="Permanent link">&para;</a></h2>
<h3 id="stopping-the-tomcat-service">Stopping the Tomcat service<a class="headerlink" href="#stopping-the-tomcat-service" title="Permanent link">&para;</a></h3>
<p>Before we start working with Cantaloupe, we should <code>stop</code> Tomcat; otherwise, Cantaloupe will automatically be deployed from its .war file, and wed like everything to be in place before the deployment.</p>
<pre><code class="language-bash">sudo systemctl stop tomcat
</code></pre>
<h3 id="downloading-and-placing-the-cantaloupe-war">Downloading and Placing the Cantaloupe WAR<a class="headerlink" href="#downloading-and-placing-the-cantaloupe-war" title="Permanent link">&para;</a></h3>
<p>Releases of Cantaloupe live on the <a href="https://github.com/cantaloupe-project/cantaloupe/releases">Cantaloupe release page</a>; the latest version can be found here as a <code>.zip</code> file.</p>
<pre><code class="language-bash">sudo wget -O /opt/cantaloupe.zip CANTALOUPE_RELEASE_URL
sudo unzip /opt/cantaloupe.zip
sudo cp CANTALOUPE_DIR/CANTALOUPE_WAR /opt/tomcat/webapps/cantaloupe.war
sudo chown tomcat:tomcat /opt/tomcat/webapps/cantaloupe.war
</code></pre>
<ul>
<li><code>CANTALOUPE_RELEASE_URL</code>: Its recommended we grab the latest version of Cantaloupe 4. This can be found on the above-linked release page, as the <code>.zip</code> version; for example, https://github.com/cantaloupe-project/cantaloupe/releases/download/v4.1.4/cantaloupe-4.1.4.zip </li>
<li><code>CANTALOUPE_DIR</code>: This will depend on the exact version of Cantaloupe downloaded; in the above example release, this would be <code>cantaloupe-4.1.4</code></li>
<li><code>CANTALOUPE_WAR</code>: This will also depend on the exact version of Cantaloupe downloaded; in the above example release, this would be <code>cantaloupe-4.1.4.war</code></li>
</ul>
<h3 id="creating-a-cantaloupe-configuration">Creating a Cantaloupe Configuration<a class="headerlink" href="#creating-a-cantaloupe-configuration" title="Permanent link">&para;</a></h3>
<p>Cantaloupe pulls its configuration from a file called <code>cantaloupe.properties</code>; there are also some other files that can contain instructions for Cantaloupe while its running; specifically, were going to copy over the <code>delegates.rb</code> file, which can also contain custom configuration. We wont make use of this file; were just copying it over for demonstration purposes.</p>
<p>Creating these files from scratch is <em>not</em> recommended; rather, were going to take the default cantaloupe configurations and plop them into their own folder so we can work with them.</p>
<pre><code class="language-bash">sudo mkdir /opt/cantaloupe_config
sudo cp CANTALOUPE_DIR/cantaloupe.properties.sample /opt/cantaloupe_config/cantaloupe.properties
sudo cp CANTALOUPE_DIR/delegates.rb.sample /opt/cantaloupe_config/delegates.rb
</code></pre>
<p>The out-of-the-box configuration will work fine for our purposes, but its highly recommended that you take a look through the <code>cantaloupe.properties</code> and see what changes can be made; specifically, logging to actual logfiles isnt set up by default, so you may want to take a peek at the <code>log.application.SyslogAppender</code> or <code>log.application.RollingFileAppender</code>, as well as changing the logging level.</p>
<h3 id="defining-the-cantaloupe-configuration-location">Defining the Cantaloupe Configuration Location<a class="headerlink" href="#defining-the-cantaloupe-configuration-location" title="Permanent link">&para;</a></h3>
<p>Now that we have a Cantaloupe configuration, we need to make a change to Tomcats <code>JAVA_OPTS</code> so that its location can be referenced when Tomcat spins it up. This will involve changing the <code>setenv.sh</code> created when setting up Tomcat.</p>
<p><code>/opt/tomcat/bin/setenv.sh</code></p>
<p><strong>Before</strong>:</p>
<blockquote>
<p>3 | export JAVA_OPTS="-Djava.awt.headless=true -server -Xmx1500m -Xms1000m"</p>
</blockquote>
<p><strong>After</strong>:</p>
<blockquote>
<p>3 | export JAVA_OPTS="-Djava.awt.headless=true -Dcantaloupe.config=/opt/cantaloupe_config/cantaloupe.properties -server -Xmx1500m -Xms1000m"</p>
</blockquote>
<h3 id="starting-the-tomcat-service">Starting the Tomcat Service<a class="headerlink" href="#starting-the-tomcat-service" title="Permanent link">&para;</a></h3>
<p>After Cantaloupe has been completely provisioned, were ready to switch Tomcat back on so that Cantaloupe automatically deploys with the established configuration.</p>
<pre><code class="language-bash">sudo systemctl start tomcat
</code></pre>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 15, 2020</span>
      
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
            
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../installing_composer_drush_and_drupal/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Installing Composer, Drush, and Drupal" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Installing Composer, Drush, and Drupal
            </div>
          </div>
        </a>
      
      
        
        <a href="../installing_fedora_syn_and_blazegraph/" class="md-footer__link md-footer__link--next" aria-label="Next: Installing Fedora, Syn, and Blazegraph" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Installing Fedora, Syn, and Blazegraph
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <b>This documentation is user-sourced!</b> Suggestions and comments are welcome in our <u><a href="https://github.com/Islandora/documentation/issues" target="_blank">issue queue</a></u>.
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs Insiders
          </a>
        
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/islandora" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.61ac8e46.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.8cf17210.min.js"></script>
      
    
  </body>
</html>