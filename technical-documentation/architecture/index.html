<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Architecture - Islandora</title>

        <link href="../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Islandora</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../..">Islandora</a>
                        </li>
                    
                        <li >
                            <a href="../../camel/sync/README/">Islandora-Sync</a>
                        </li>
                    
                        <li >
                            <a href="../../drupal/islandora/README/">Islandora (Drupal module)</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../install/README/">Vagrant</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../contributing/contributing/">How to contribute</a>
                        </li>
                    
                        <li >
                            <a href="../../contributing/committers/">Committers</a>
                        </li>
                    
                        <li >
                            <a href="../../contributing/hacking-on-islandora/">Hacking on Islandora</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Documentation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../user-documentation/2xfor1x/">Islandora 2.x for Islandora 1.x Users</a>
                        </li>
                    
                        <li >
                            <a href="../../user-documentation/creating-collections-in-islandora-7.x-2.x/">Creating Collections in Islandora 7.x-2.x</a>
                        </li>
                    
                        <li >
                            <a href="../../user-documentation/adding-object-to-collection-in-islandora-7.x-2.x/">Adding an object to a collection in Islandora 7.x-2.x</a>
                        </li>
                    
                        <li >
                            <a href="../../user-documentation/editing-basic-image-form-in-islandora-7.x-2.x/">Editing the Basic Image Form in Islandora 7.x-2.x</a>
                        </li>
                    
                        <li >
                            <a href="../../user-documentation/form-field-select-taxonomy-in-islandora-7.x-2.x/">Adding a Drupal Taxonomy in Islandora 7.x-2.x</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Technical Documentation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li class="active">
                            <a href="./">Architecture</a>
                        </li>
                    
                        <li >
                            <a href="../services/">Middleware Services</a>
                        </li>
                    
                        <li >
                            <a href="../commands/">Commands</a>
                        </li>
                    
                        <li >
                            <a href="../docs-build/">How to build documenation</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Migration <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../migration/migration/">Migration</a>
                        </li>
                    
                        <li >
                            <a href="../../migration/fedora-namespace-predicates/">Fedora namespace predicates</a>
                        </li>
                    
                        <li >
                            <a href="../../migration/islandora-namespace-predicates/">Islandora namespace predicates</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../../user-documentation/form-field-select-taxonomy-in-islandora-7.x-2.x/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../services/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/Islandora-labs/islandora">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#architecture">Architecture</a></li>
        
            <li><a href="#overview">Overview</a></li>
        
            <li><a href="#scalability">Scalability</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="architecture">Architecture</h1>
<h2 id="overview">Overview</h2>
<p>Islandora 7.x-2.x is a large and comprehensive technology stack that encompasses a Fedora 4 repository, a Drupal CMS, and an Apache Camel based middleware layer to integrate the two along with all of the other complementary technologies required for digital asset management and preservation (full text search engine, triplestore, command line tools, etc...).  Here is a (somewhat) exhaustive list of the technologies in an Islandora stack:</p>
<ul>
<li>Fedora 4 (deployed in a servlet container such as Tomcat or Jetty)</li>
<li>Drupal 7 (deployed in an Apache 2 web server), which includes:<ul>
<li>A relational database such as MySQL or PostgreSQL</li>
<li>Several third-party Drupal modules from drupal.org</li>
<li>Several Islandora Drupal modules</li>
<li>Several JavaScript viewers for rendering content (PDF.js, Video.js, etc...)</li>
</ul>
</li>
<li>Apache Solr (deployed in either an OSGi or servlet container)</li>
<li>Blazegraph (or the triple store of your choice, most likely deployed in a servlet container)</li>
<li>Apache Camel based middleware (all deployed in an OSGi container), which includes:<ul>
<li>Islandora Sync - Asynchronous and event driven software to generate derivatives and align Drupal fields with Fedora RDF</li>
<li>Islandora Services - RESTful web services exposed through the OSGi container that accept Drupal information and manipulate Fedora resources</li>
<li>Fedora Messaging Application Toolbox - Indexes Fedora content in the triplestore</li>
</ul>
</li>
<li>Islandora Commands - A command-line PHP script utilized by Services and Sync to provide processing capabilities beyond what can be done in a Blueprint XML file</li>
<li>Several command line tools for derivative generation:<ul>
<li>ImageMagick - For image manipulation</li>
<li>Tesseract - For OCR generation</li>
<li>FFmpeg - For video processing</li>
<li>LAME - For audio processing</li>
<li>FITS - For technical metadata generation</li>
<li>and much much more as functionality requires...</li>
</ul>
</li>
</ul>
<p>Here's an image representing the various components of the stack and how they interoperate:</p>
<h2 id="scalability">Scalability</h2>
<p>One of the main goals with the 7.x-2.x project is to allow for horizontal scalability, and the architecture of the stack has been designed with this in mind.  No assumptions are made requiring any of the components to be on the same machine, so it can all be split apart onto multiple resources.  Most of the components also provide some sort of horizontal scalability through sharding, replication, or both.  If desired, the following components can be clustered through configuration and their respective installation procedures:</p>
<ul>
<li>Fedora 4<ul>
<li>Fedora 4 sits on top of Modeshape, which provides both replication and sharding capabilities.  See https://docs.jboss.org/author/display/MODE/Clustering</li>
</ul>
</li>
<li>Apache Solr<ul>
<li>Solr indices can be sharded to allow for distributed searching. See https://cwiki.apache.org/confluence/display/solr/Distributed+Search+with+Index+Sharding</li>
</ul>
</li>
<li>Blazegraph<ul>
<li>Blazegraph was chosen as the ‘default’ triplestore for Islandora because it is well known to provide both sharding and replication capabilities.  See https://wiki.blazegraph.com/wiki/index.php/HAJournalServer and  https://wiki.blazegraph.com/wiki/index.php/ClusterSetupGuide</li>
</ul>
</li>
<li>Drupal<ul>
<li>The Drupal front end can be scaled out by having multiple Apache webservers behind a load balancer</li>
<li>Scaling the relational database (while difficult) is possible, though typical vertical scaling is the first approach taken</li>
</ul>
</li>
</ul>
<p>While not yet implemented, it will be possible to scale the Camel based middleware both the web services and the sync based listeners through the use of Camel's load balancer design pattern. See https://camel.apache.org/load-balancer.html</p></div>
        </div>

	<footer class="col-md-12">
		<hr>
		
		<center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
	</footer>


        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>