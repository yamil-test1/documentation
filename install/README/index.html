<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Installation (Vagrant) - Islandora CLAW</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Islandora CLAW">
    <meta property="og:image" content="None/../../">
    <meta name="apple-mobile-web-app-title" content="Islandora CLAW">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-a422ff04cc.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Mono">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Installation <i class="icon icon-link"></i>
              
            
          </span>
        
        Installation (Vagrant)
      </div>
    </div>
    
      
      <div class="button button-twitter" role="button" aria-label="Twitter">
        <a href="https://twitter.com/islandora" title="@islandora on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
      </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/Islandora-CLAW/CLAW" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          Islandora CLAW
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          Islandora-CLAW/CLAW
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/Islandora-CLAW/CLAW/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/Islandora-CLAW/CLAW/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <span class="section">About</span>
    <ul>
      
        
  <li>
    <a class="" title="Islandora CLAW" href="../..">
      Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Introduction to Islandora CLAW" href="../../user-documentation/intro-to-claw/">
      Introduction to Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Alpaca" href="../../alpaca/README/">
      Alpaca
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Chullo" href="../../chullo/README/">
      Chullo
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Crayfish" href="../../crayfish/README/">
      Crayfish
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="PDX" href="../../pdx/README/">
      PDX
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Islandora (Drupal module)" href="../../islandora/README/">
      Islandora (Drupal module)
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Installation</span>
    <ul>
      
        
  <li>
    <a class="current" title="Installation (Vagrant)" href="./">
      Installation (Vagrant)
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Introduction" href="#introduction">
                Introduction
              </a>
            </li>
          
            <li class="anchor">
              <a title="Requirements" href="#requirements">
                Requirements
              </a>
            </li>
          
            <li class="anchor">
              <a title="Variables" href="#variables">
                Variables
              </a>
            </li>
          
            <li class="anchor">
              <a title="Use" href="#use">
                Use
              </a>
            </li>
          
            <li class="anchor">
              <a title="Connect" href="#connect">
                Connect
              </a>
            </li>
          
            <li class="anchor">
              <a title="Environment" href="#environment">
                Environment
              </a>
            </li>
          
            <li class="anchor">
              <a title="Windows Troubleshooting" href="#windows-troubleshooting">
                Windows Troubleshooting
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Contributing</span>
    <ul>
      
        
  <li>
    <a class="" title="How to contribute" href="../../contributing/CONTRIBUTING/">
      How to contribute
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Committers" href="../../contributing/committers/">
      Committers
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Hacking on Islandora" href="../../contributing/hacking-on-islandora/">
      Hacking on Islandora
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">User Documentation</span>
    <ul>
      
        
  <li>
    <a class="" title="Islandora CLAW for Islandora 1.x Users" href="../../user-documentation/2xfor1x/">
      Islandora CLAW for Islandora 1.x Users
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Creating Collections in Islandora CLAW" href="../../user-documentation/creating-collections-in-islandora-7.x-2.x/">
      Creating Collections in Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Adding an object to a collection in Islandora CLAW" href="../../user-documentation/adding-object-to-collection-in-islandora-7.x-2.x/">
      Adding an object to a collection in Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Editing the Basic Image Form in Islandora CLAW" href="../../user-documentation/editing-basic-image-form-in-islandora-7.x-2.x/">
      Editing the Basic Image Form in Islandora CLAW
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Adding a Drupal Taxonomy in Islandora CLAW" href="../../user-documentation/form-field-select-taxonomy-in-islandora-7.x-2.x/">
      Adding a Drupal Taxonomy in Islandora CLAW
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Technical Documentation</span>
    <ul>
      
        
  <li>
    <a class="" title="Architecture" href="../../technical-documentation/architecture/">
      Architecture
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Middleware Services" href="../../technical-documentation/services/">
      Middleware Services
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Commands" href="../../technical-documentation/commands/">
      Commands
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="How to build documenation" href="../../technical-documentation/docs-build/">
      How to build documenation
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Semantic Versioning Policy" href="../../technical-documentation/versioning/">
      Semantic Versioning Policy
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Migration</span>
    <ul>
      
        
  <li>
    <a class="" title="Migration" href="../../migration/migration/">
      Migration
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Fedora namespace predicates" href="../../migration/fedora-namespace-predicates/">
      Fedora namespace predicates
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Islandora namespace predicates" href="../../migration/islandora-namespace-predicates/">
      Islandora namespace predicates
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
              
              <li>
                <a href="https://twitter.com/islandora" target="_blank" title="@islandora on Twitter">
                  @islandora on Twitter
                </a>
              </li>
            
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Installation (Vagrant)</h1>
          
          <h2 id="introduction">Introduction</h2>
<p>The is a development environment virtual machine for the Islandora and Fedora 4 project. It should work on any operating system that supports VirtualBox and Vagrant.</p>
<p>N.B. This virtual machine <strong>should not</strong> be used in production.</p>
<h2 id="requirements">Requirements</h2>
<ol>
<li><a href="https://www.virtualbox.org/">VirtualBox</a></li>
<li><a href="http://www.vagrantup.com/">Vagrant</a></li>
<li><a href="https://git-scm.com/">git</a></li>
</ol>
<h2 id="variables">Variables</h2>
<h3 id="system-resources">System Resources</h3>
<p>By default the virtual machine that is built uses 2GB of RAM. Your host machine will need to be able to support the additional memory use. You can override the CPU and RAM allocation by creating <code>ISLANDORA_VAGRANT_CPUS</code> and <code>ISLANDORA_VAGRANT_MEMORY</code> environment variables and setting the values. For example, on an Ubuntu host you could add to <code>~/.bashrc</code>:</p>
<pre><code class="bash">export ISLANDORA_VAGRANT_CPUS=4
export ISLANDORA_VAGRANT_MEMORY=4096
</code></pre>

<h3 id="hostname-and-description">Hostname and Description</h3>
<p>If you use a DNS or host file management plugin with Vagrant, you may want to set a specific hostname for the virtual machine. You can do that with the <code>ISLANDORA_VAGRANT_HOSTNAME</code> variable.  The <code>ISLANDORA_VAGRANT_VIRTUALBOXDESCRIPTION</code> variables can be used to track the VM build. For example:</p>
<pre><code class="bash">export ISLANDORA_VAGRANT_HOSTNAME=&quot;islandora-deux&quot;
export ISLANDORA_VAGRANT_VIRTUALBOXDESCRIPTION=&quot;Islandora CLAW&quot;
</code></pre>

<h2 id="use">Use</h2>
<p>VirtualBox:</p>
<ol>
<li><code>git clone https://github.com/Islandora-CLAW/CLAW</code></li>
<li><code>cd CLAW/install</code></li>
<li><code>vagrant up</code></li>
</ol>
<p>DigitalOcean:</p>
<ol>
<li><code>git clone https://github.com/Islandora-CLAW/CLAW</code></li>
<li><code>cd CLAW/install</code></li>
<li><code>vagrant plugin install vagrant-digitalocean</code></li>
<li>Set the following environment variables:</li>
<li><code>DIGITALOCEAN_TOKEN</code> -- Your DigitalOcean API token</li>
<li><code>DIGITALOCEAN_KEYNAME</code> -- Your DigitalOcean ssh key name</li>
<li><code>DIGITALOCEAN_KEYPATH</code> -- Path to your ssh keys that you've setup with DigitalOcean</li>
<li><code>vagrant up --provider=digital_ocean</code></li>
</ol>
<p>Amazon:</p>
<ol>
<li><code>git clone https://github.com/Islandora-CLAW/CLAW</code></li>
<li><code>cd CLAW/install</code></li>
<li><code>vagrant plugin install vagrant-aws</code></li>
<li>Set the following environment variables:</li>
<li><code>AWS_KEY</code></li>
<li><code>AWS_SECRET</code></li>
<li><code>AWS_KEYNAME</code></li>
<li><code>AWS_KEYPATH</code></li>
<li><code>vagrant up --provider=aws</code></li>
</ol>
<p>N.B. You may not be able to connect to your AWS instance depending on VPC settings.</p>
<h2 id="connect">Connect</h2>
<p>You can connect to the machine via the browser at <a href="http://localhost:8000">http://localhost:8000</a>.</p>
<p>The default Drupal login details are:</p>
<ul>
<li>username: admin</li>
<li>password: islandora</li>
</ul>
<p>MySQL:</p>
<ul>
<li>username: root</li>
<li>password: islandora</li>
</ul>
<p>The Fedora 4 REST API can be accessed at <a href="http://localhost:8080/fcrepo/rest">http://localhost:8080/fcrepo/rest</a>.  It currently has authentication disabled.</p>
<p>Tomcat Manager:</p>
<ul>
<li>username: islandora</li>
<li>password: islandora</li>
</ul>
<p>You can connect to the machine via ssh: <code>ssh -p 2222 vagrant@localhost</code></p>
<p>The default VM login details are:</p>
<ul>
<li>username: vagrant</li>
<li>password: vagrant</li>
</ul>
<h2 id="environment">Environment</h2>
<ul>
<li>Ubuntu 14.04.4</li>
<li>Drupal 8.1.3</li>
<li>MySQL 5.5.49</li>
<li>Apache 2.24.7</li>
<li>Tomcat 7.0.52</li>
<li>Solr 4.10.3</li>
<li>Camel 2.14.1</li>
<li>Fedora 4.5.1</li>
<li>Fedora Camel Component 4.2.0</li>
<li>BlazeGraph 1.5.1</li>
<li>Karaf 4.0.5</li>
<li>Sync 0.0.0</li>
<li>Islandora 7.x-2.x</li>
<li>PHP 5.6.22 and 7.0.7</li>
<li>Java 8 (Oracle)</li>
</ul>
<h2 id="windows-troubleshooting">Windows Troubleshooting</h2>
<p>If you receive errors involving <code>\r</code> (end of line) you have two options:</p>
<ol>
<li>Clone down the current development branch using <code>--single-branch</code>.</li>
</ol>
<p><code>git clone --single-branch --branch sprint-002 git@github.com:Islandora-CLAW/CLAW.git &lt;optional directory name&gt;</code>
  A benifit to this approach is that files created or edited on a Windows environment will be pushed back to your fork with appropriate <code>LF</code> endings.</p>
<ol>
<li>Modify your global <code>.gitconfig</code> file to disable the Windows behavior of <code>autocrlf</code> entirely.</li>
</ol>
<p>Edit the global <code>.gitconfig</code> file, find the line:
  <code>autocrlf = true</code>
  and change it to
  <code>autocrlf = false</code>
  Remove and clone again. This will prevent Windows git clients from automatically replacing Unix line endings LF with Windows line endings CRLF.</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../../islandora/README/" title="Islandora (Drupal module)">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Islandora (Drupal module)
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../../contributing/CONTRIBUTING/" title="How to contribute">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                How to contribute
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = 'Islandora-CLAW/CLAW';
    </script>
    <script src="../../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>