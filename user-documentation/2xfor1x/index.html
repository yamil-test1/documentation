<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Islandora 2.x for Islandora 1.x Users - Islandora</title>

        <link href="../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Islandora</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../..">Islandora</a>
                        </li>
                    
                        <li >
                            <a href="../../camel/sync/README/">Islandora-Sync</a>
                        </li>
                    
                        <li >
                            <a href="../../drupal/islandora/README/">Islandora (Drupal module)</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../install/README/">Vagrant</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../contributing/contributing/">How to contribute</a>
                        </li>
                    
                        <li >
                            <a href="../../contributing/committers/">Committers</a>
                        </li>
                    
                        <li >
                            <a href="../../contributing/hacking-on-islandora/">Hacking on Islandora</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Documentation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li class="active">
                            <a href="./">Islandora 2.x for Islandora 1.x Users</a>
                        </li>
                    
                        <li >
                            <a href="../creating-collections-in-islandora-7.x-2.x/">Creating Collections in Islandora 7.x-2.x</a>
                        </li>
                    
                        <li >
                            <a href="../adding-object-to-collection-in-islandora-7.x-2.x/">Adding an object to a collection in Islandora 7.x-2.x</a>
                        </li>
                    
                        <li >
                            <a href="../editing-basic-image-form-in-islandora-7.x-2.x/">Editing the Basic Image Form in Islandora 7.x-2.x</a>
                        </li>
                    
                        <li >
                            <a href="../form-field-select-taxonomy-in-islandora-7.x-2.x/">Adding a Drupal Taxonomy in Islandora 7.x-2.x</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Technical Documentation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../technical-documentation/architecture/">Architecture</a>
                        </li>
                    
                        <li >
                            <a href="../../technical-documentation/services/">Middleware Services</a>
                        </li>
                    
                        <li >
                            <a href="../../technical-documentation/commands/">Commands</a>
                        </li>
                    
                        <li >
                            <a href="../../technical-documentation/docs-build/">How to build documenation</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Migration <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../migration/migration/">Migration</a>
                        </li>
                    
                        <li >
                            <a href="../../migration/fedora-namespace-predicates/">Fedora namespace predicates</a>
                        </li>
                    
                        <li >
                            <a href="../../migration/islandora-namespace-predicates/">Islandora namespace predicates</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../../contributing/hacking-on-islandora/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../creating-collections-in-islandora-7.x-2.x/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/Islandora-labs/islandora">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#whats-different-between-islandora-1x-and-2x">What's Different between Islandora 1.x and 2.x</a></li>
        
            <li><a href="#fedora">Fedora</a></li>
        
            <li><a href="#islandora">Islandora</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="whats-different-between-islandora-1x-and-2x">What's Different between Islandora 1.x and 2.x</h1>
<p>In the most basic terms, Islandora 7.x-2.x is the version of Islandora that works with <a href="https://wiki.duraspace.org/display/FEDORA4x/Fedora+4.x+Documentation">Fedora 4</a>. Because Fedora 4 is a vastly different platform than Fedora 3, so too is Islandora 7.x-2.x a major departure from what came before. Switching to 7.x-2.x represents not just a typical upgrade with improvements, features, and bug fixes, but rather a major shift in how objects are stored and managed. </p>
<p>Moving from Islandora 7.x-1.x to 7.x-2.x requires a migration of objects, which you can learn about <a href="../../migration/migration/">here</a>. It also requires some adjustments in how you think about your objects and their relationships, and how to manage them in Islandora, which we will cover below.</p>
<p>You can also check out some of the documentation provided by the Fedora project:
<em> <a href="https://wiki.duraspace.org/display/FEDORA4x/Concept+Mapping+-+Fedora+3+to+4">Concept Mapping - Fedora 3 to 4</a>
</em> <a href="https://wiki.duraspace.org/display/FEDORA4x/The+Fedora+4+object+model">The Fedora 4 object model</a>
<em> <a href="https://wiki.duraspace.org/display/FF/Fedora+3+to+4+Upgration">Fedora 3 to 4 Upgration</a>
</em> <a href="https://wiki.duraspace.org/display/FEDORA4x/LDP-PCDM-F4+In+Action">LDP-PCDM-F4 In Action</a></p>
<h2 id="fedora">Fedora</h2>
<h3 id="repository-structure">Repository Structure</h3>
<p>Fedora 3 stored all objects at the top level of the repository, although presentation of the objects could mimic a directory structure by having objects 'in' collections and collections 'in' other collections. This image is a helpful oversimplification:</p>
<p><img alt="image" src="https://cloud.githubusercontent.com/assets/2371345/10912108/525c2a0e-821e-11e5-9c5b-d853b62f1e5a.png" /></p>
<p>Fedora 4 differs considerably in that there is an innate tree hierarchy to the repository rather than a flat structure. Put less simply, "a Fedora 4 repository consists of a directed acyclic graph of resources where edges represent a parent-child relation" (<a href="https://wiki.duraspace.org/display/FEDORA4x/The+Fedora+4+object+model">Fedora 4</a>).</p>
<h3 id="object-structure">Object Structure</h3>
<p>Fedora 3 objects are FOXML (Fedora Object eXtensible Markup Language) documents, with three elements:</p>
<ul>
<li><code>Digital Object Identifier</code>: A unique, persistent identifier for the digital object. Also knowns as the PID.</li>
<li><code>System Properties</code>: A set of system-defined descriptive properties that is necessary to manage and track the object in the repository.</li>
<li><code>Datastream(s)</code>: The element in a Fedora digital object that represents a content item.</li>
</ul>
<p>In Fedora 4 , what we would have called <code>objects</code> are now referred to as <code>resources</code> and are not composed of XML; instead, they are stored in ModeShape as nodes with RDF properties. They can contain the following elements:</p>
<ul>
<li><code>Container</code>: Roughly equivalent to a Fedora 3 object - a conceptual representation of a thing that can contain files or other containers.</li>
<li><code>Non-RDF Source</code>: Roughly equivalent to a datastream. A Non-RDF Source (or binary) is simply a bitstream (e.g. JPG, PDF, XML, MP3, etc.).</li>
</ul>
<h3 id="datastreams">Datastreams</h3>
<p>In Islandora 7.x-2.x, RDF datastreams (RELS-EXT and RELS-INT) are stored as pure RDF in Fedora. Binary datastreams (files, images) are files or <code>nonRdfResources</code> (see <a href="https://github.com/duraspace/pcdm/wiki">PCDM</a>). Metadata datastreams (MODS, DC, DwC, PBCore, etc) are whatever you want them to be: either binary files of XML, or mapped to your choice of RDF.</p>
<h4 id="pids">PIDs</h4>
<p>Every object in a Fedora 3 repository had a Persistent Identifier following the pattern <code>namespace:pid</code>. Fedora 4 resources do not have PIDs. Instead, since Fedora 4 is an LDP server, their identifiers are fundamentally their URIs. The PIDs of objects migrated from a Fedora 3 repository can still be stored in Fedora 4, as additional properties on the new Fedora 4 resource.</p>
<p>Since resources are stored as <code>nodes</code> on the Drupal side of Islandora 7.x-2.x, they also have Drupal UUIDs.</p>
<h2 id="islandora">Islandora</h2>
<h3 id="ingest">Ingest</h3>
<p>In Fedora 3:
<em> Go to a collection
</em> Click <code>Manage</code>
<em> Add an object
</em> Fill out a metadata form
* Upload object/Ingest</p>
<p>In Fedora 4:
<em> Click <code>Add Content</code> (like any Drupal node)
</em> Select content type 
<em> Fill out a metadata form
    * Add thumbnail, select parent collection, upload object, configure standard Drupal node options (comments, url path, etc)
</em> Ingest occurs asynchronously soon after. </p>
<h3 id="collections">Collections</h3>
<p>Because objects in Fedora 3 were stored in a flat graph structure instead of a hierarchy, what were presented as collection in Islandora 7.x-1.x were actually objects on the same level as their child objects, with the 'container' or 'folder' aspect of them being a fiction for display created by the relationships between the objects. In Fedora 4, resources do have a true hierarchical structure and must have a <code>fedora:hasParent</code> relationship to know where they belong in a given repository. Indeed, to migrate objects over from Fedora 3 to Fedora 4, parents must arrive before their children. In its current incarnation, all objects in a 7.x-2.x repository have the Fedora root as a parent and relationships are managed via the <code>pcdm:hasMember</code> predicate. </p>
<p>In its current incarnation, Islandora 7.x-2.x does not include a default display for collections. Instead, Drupal Views can be used to build collections around the <code>pcdm:hasMember</code> value. For more information, please see <a href="">How To Create A Collection View</a>).</p>
<h3 id="forms">Forms</h3>
<p><code>Islandora XML Form Builder</code> has not yet been replicated in Islandora 7.x-2.x. Instead, ingest forms can be edited as <code>content types</code> in Drupal, using basic Drupal field management and display tools, and then mapped to RDF in Fedora. For more information, please see <a href="../editing-basic-image-form-in-islandora-7.x-2.x/">Editing the Basic Image Form</a> or Drupal.org's <a href="https://www.drupal.org/documentation/modules/field-ui">Working with content types and fields (Drupal 7 and later)</a></p>
<h3 id="derivatives">Derivatives</h3>
<p>In Islandora 7.x-2.x, derivatives are done with <code>Camel</code>. If you used microservices in 7.x-1.x, this will feel very familiar. When an object is created, a message is sent to a queue, and Camel processes it, using rules to figure out what derivative code to run. The aforementioned derivative code (i.e. the calls to ffmpeg, imagemagick, etc) are written in Java (or PHP that is NON-DRUPAL-RELATED.) </p></div>
        </div>

	<footer class="col-md-12">
		<hr>
		
		<center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
	</footer>


        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>